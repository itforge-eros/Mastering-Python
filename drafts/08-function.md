# Function
"ฟังก์ชั่น **เป็นกลุ่มของโค้ด** ฟังก์ชั่น โดยส่วนใหญ่แล้ว จะรับค่ามาเพื่อคำนวณ และส่งค่าที่คำนวณได้กลับไป โดยฟังก์ชั่นสามารถถูกใช้ได้หลายครั้ง ไม่จำกัดจำนวน และสามารถเรียกจากจุดไหนของโปรแกรมก็ได้"

"ฟังก์ชั่น **เป็นการช่วย Debug โปรแกรม** เนื่องจากว่า เราสามารถรู้ได้ว่า ปัญหาโค้ดนั้น อยู่ที่บรรทัดใดของโปรแกรม นั่นหมายความว่า ถ้าเรารู้ว่าปัญหาอยู่ที่ฟังก์ชั่นนี้ เราก็สามารถเข้าไปแก้เพียงฟังก์ชั่นนั้นๆ ได้ในทันที ไม่ต้องมานั่งหาทั้งโปรแกรม
" - Utah University [cs.utah.edu/~germain/PPS/Topics/function.html](http://www.cs.utah.edu/~germain/PPS/Topics/function.html)

Function คือกลุ่มของโปรแกรมที่ทำให้ชีวิตน้องนั้นสบายขึ้นเยอะเลย
ถ้าถามว่าทำไมเราต้องมี Function ด้วย เราก็สามารถเขียน 100 บรรทัดซ้ำๆกันไม่ได้เหรอ<br>
ถ้าเป็นอย่างนั้นก็ได้ครับ แต่จะแล้วถ้าเกิดมี Syntax Error ขึ้นมาไม่ไล่แก้ทีละบรรทัดเลยหรอ

## ประโยชน์ของการใช้ Function
1. เราสามารถใช้กลุ่มโค้ดนั้นใหม่ได้ ไม่จำเป็นต้องเขียนใหม่ๆ หรือ copy มันซ้ำๆ (Encapsulation)
2. เราสามารถระบุว่าส่วนไหนของโปรแกรมมันพัง ทำให้เราต้องไปมองการแก้ไขได้ตรงจุดมากขึ้น

เราอาจจะยังไม่เก็ทเท่าไหร่ พี่ก็จะแสดง code ให้ดูครับ

ตัวอย่างโค้ดที่ไม่ใช้ฟังก์ชัน
```python
var1 = 12           # กลุ่มโค้ดที่ 1
var2 = 24           # กลุ่มโค้ดที่ 1
var3 = var1 + var2  # กลุ่มโค้ดที่ 2
print(var1 + var2)  # กลุ่มโค้ดที่ 2

var1 = 45           # กลุ่มโค้ดที่ 3
var2 = 725          # กลุ่มโค้ดที่ 3
var3 = var1 + var2  # กลุ่มโค้ดที่ 2
print(var1 + var2)  # กลุ่มโค้ดที่ 2

var1 = 27           # กลุ่มโค้ดที่ 4
var2 = 83           # กลุ่มโค้ดที่ 4
var3 = var1 + var2  # กลุ่มโค้ดที่ 2
print(var1 + var2)  # กลุ่มโค้ดที่ 2
```

และเมื่อเราเอา code ด้านบนมาเปลี่ยนแปลง เพื่อใช้ฟังก์ชั่น ก็จะเป็นแบบด้านล่างนี้
```python
def main():
    adder(12, 24)       # กลุ่มโค้ดที่ 1
    adder(45, 725)      # กลุ่มโค้ดที่ 3
    adder(27, 83)       # กลุ่มโค้ดที่ 4

def adder(var1, var2):
    var3 = var1 + var2  # กลุ่มโค้ดที่ 2
    print(var3)         # กลุ่มโค้ดที่ 2
    return

main()
```

เห็นหรือเปล่าครับ ว่าเราสามารถอ่านด้านล่างได้ง่ายกว่า (ถ้าเราเข้าใจมัน) และหากว่าอนาคต เราอยากใช้ฟังก์ชันอีก ก็สามารถเรียกได้เลย ไม่ต้องคอย Copy Paste หลายๆรอบ

สำหรับหลักการเขียนนั้น ก็เป็นไปตามด้านล้างนี้

## สร้างฟังก์ชั่นใหม่
```python
def Jeff():
    print("Hello, my name is Jeff")
    return
```

หลักๆ ของ Function นั้น ก็จะมีอยู่ 4 จุดที่ต้องทำ นั่นคือ
1. ชื่อฟังก์ชั่น
2. ตัวแปรที่จะได้รับมา เมื่อมีการเรียกฟังก์ชั่น (Parameter)
3. โค้ดที่น้องต้องการให้มันทำงาน เมื่อมีการเรียกฟังก์ชั่นนั้น
4. ค่าที่จะคืนให้ (return parameter)

#### ชื่อฟังก์ชั่น
การสร้างฟังก์ชันใหม่ ก็จะเรื่มด้วย `def` ตามด้วยชื่อฟังกชั่น (ตามที่น้องอยากจะเรียกมัน) ในตัวอย่างด้านล่าง พี่มงได้ตั้งชื่อฟังก์ชั่นนี้เป็น `Jeff()`<br>
ทำให้เมื่อพี่มงต้องการที่จะใช้ฟังกชันนี้ พี่ก็จะเรียกฟังก์ชั่น โดยการเขียน `Jeff()` ไว้ตรงจุดที่เราต้องการเอาไปใช้งาน

#### Parameters
สำหรับ () หลังชื่อฟังกชันนั้น จะเป็นตัวบอกว่าต้องรับตัวแปรอะไร (ศัพท์ทางการ : Parameters) เมื่อมีการเรียก หากว่าเราเขียนชื่อ function ว่า `adder(var1, var2)` นั่นก็หมายความว่า ถ้าจะเรียกฟังกชันนี้ ก็จำเป็นที่จะต้องให้ตัวแปรมันก่อน โดยการเขียน และการเรียงเหมือนชื่อฟังกชันเลย

บนตัวอย่างด้านบนสุดนั้น ได้มีการเรียกฟังกชัน `adder()` โดยการโยนเลขเข้าไปด้วย นั่นคือ 12 กับ 24 (`adder(12, 24)`)<br>
นั่นหมายความว่า พี่มงได้เรียกฟังกชัน `adder(var1, var2)` แล้ว และเลข 12 ก็จะไปจัดเก๋็บอยู่ในตัวแปร var1 ทันที เช่นเดียวกันกับเลข 24

#### Code
ส่วนต่อไปคือ code ภายใน function ซึ่ง code ข้างใน function **จะทำงานก็ต่อเมื่อ function ถูกเรียกใช้งาน**

คือ code ที่ TAB (เท่ากับการกด SPACE BAR 4 ครั้งของ Python (Soft Tab)) เข้ามา

#### Return Parameter
เป็นค่าที่จะคืนให้กับตัวที่เรียก function นั้นมาทำงาน ตัวอย่างเช่นฟังก์ชั่น `calculator()` ได้เรียก `adder()` เพื่อให้คำนวณการบวกให้หน่อย<br>
และเมื่อ `adder()` คำนวณเสร็จแล้ว ตัว `calculator()` ก็ดันอยากได้ผลลัพท์การคำนวณชะด้วยสิ

การคืนค่า parameter กลับไป จะใช้คีย์เวิร์ด `return` เช่น
```python
def calculator():
  result = adder(1112, 1669)

def adder(value1, value2):
  answer = value1 + value2
  return answer

calculator()
```

::: warning
หากเราไม่มีการเรียกฟังก์ชั่นในบรรทัดที่ 3 แล้ว (ก็คือไม่ได้เขียนบรรทัดที่ 3 เข้าไปด้วย) ตัวโปรแกรมจะไม่รันโปรแกรมในฟังก์ชั่น (บรรทัดที่ 2) นะครับ
:::

## วิธีเรียกฟังก์ชั่น
เรียกฟังก์ชั่น โดยการเขียนชื่อฟังก์ชั่น และตามด้วย ()
```python
kumamon()
```

แต่หากว่าน้องๆต้องการใช้ฟังก์ชั่นที่ต้องมี Parameter ก็ต้องทำการให้มันด้วยนะครับ<br>
โดยการเขียนตัวแปรที่น้องจะให้มัน ดังนี้
```python
adder(1112, 1669)
```

หากว่าฟังก์ชัน เขียนได้แบบนี้
```python
def adder(value1, value2):
  result = value1 + value2
  return result
```

เลข 1112 นั้นก็จะถูกเก็บที่ตัวแปร `value1` และ 1669 ก็จะถูกเก็บไว้ที่ตัวแปร `value2`<br>
เราก็จะเห็นว่า มันจะเข้าไปเก็บในตัวแปรที่อยู่ลำดับเดียวกัน

???????????

## เช็คค่าที่อยู่บนตัวแปร
เนื่องจากว่าพี่มงก็เป็นคนที่ชอบลืมว่าตัวแปรนี้มีค่าเท่ากับเท่าไหร่<br>
และพี่ก็ได้ทราบมาว่า มีนักพัฒนาหลายๆคนก็ลืมเหมือนกัน พี่มงเลยคิดว่า น้องก็จะลืมเหมือนกัน

โดยน้องๆอาจจะบอกพี่ว่า "ใช้ print() ตัวแปรออกมาสิพี่" มันก็ถูกของน้องอ่ะนะ

แต่วันนี้ พี่ก็จะขอเสนอฟังก์ชั่นที่ชื่อว่า `locals()` และ `globals()` กันครับ

ต้องอธิบายอย่างหยาบๆไว้ก่อนว่า ตัวแปรนั้นจะถูกแยกออกมาเป็น 2 ประเภท ตามการ **เข้าถึงตัวแปร** ภายในโปรแกรม

ตัวอย่างเช่น
```python
MAX_GPA = 4.0

def calculate_gpa():
    gpa = 1.2
```

---

::: tip Terminology
[`Function`](https://www.webopedia.com/TERM/F/function.html) ,
[`Parameter`](https://en.wikipedia.org/wiki/Parameter_(computer_programming))

:::
